.PHONY: help run-eval report clean install

help:
	@echo "Free Intelligence â€” Evaluation Makefile"
	@echo ""
	@echo "Commands:"
	@echo "  make install     - Install Python dependencies (jsonschema, numpy)"
	@echo "  make run-eval    - Run evaluation against prompts.csv"
	@echo "  make report      - Display latest results"
	@echo "  make clean       - Remove all result files"

install:
	pip install jsonschema numpy

run-eval:
	python3 run_eval.py

report:
	@latest=$$(ls -t results/*.json 2>/dev/null | head -1); \
	if [ -z "$$latest" ]; then \
		echo "âŒ No results found. Run 'make run-eval' first."; \
	else \
		echo "ğŸ“Š Latest Results: $$latest"; \
		cat "$$latest" | python3 -m json.tool | head -50; \
	fi

clean:
	rm -rf results/*.json
	@echo "âœ… Cleaned results/"
